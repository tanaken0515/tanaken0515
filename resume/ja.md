# 職務経歴

- 氏名: 田中 健太郎 | [GitHub](https://github.com/tanaken0515) | [X (Twitter)](https://twitter.com/tanaken0515)
- 更新日: 2023-11-26 

## 要約

2015年からソフトウェアエンジニアとして活動しています。Ruby, Ruby on Railsを主軸とし、複数のWebアプリケーションの開発に携わった経験があります。
現職では2018年9月よりGMOペパボ株式会社で [SUZURI](https://suzuri.jp) の開発に携わっています。具体的には決済、発注、法対応、会計処理など、取り扱う情報が重要でなおかつ期日がシビアな機能の実装を複数担当しています。
2021年3月より「エンジニアリングリード」という職位に就き、引き続きプレイヤーとして開発に携わりつつ、マネジメントの一部（組織目標の達成、セキュリティリスクの回避、メンバーのエンパワーメント）も担っています。

継続的な事業運営を行なううえでOSSとの共生は重要であると考えており、技術コミュニティに積極的に参加しています。
[RubyKaigi](https://rubykaigi.org) には2019年以降毎回参加しており [2022年](https://rubykaigi.org/2022/about/) と [2023年](https://rubykaigi.org/2023/about/) は当日ヘルパーとして運営にも携わりました。
また、[Rails Girls](https://railsgirls.jp/) のワークショップにおいて [Fukuoka 2nd](https://railsgirls.com/fukuoka-2019.html), [Tokyo 13th](https://railsgirls.com/tokyo-2020-02-15.html), [Kagoshima 1st](https://railsgirls.com/kagoshima-2022.html) でコーチを務めました。
加えて、鹿児島県で初となる地域Ruby会議 [鹿児島Ruby会議01](https://k-ruby.com/kagoshima-rubykaigi01/) を主催し、運営しました。

技術イベントでの発表、ブログの執筆、Podcast等、社内外への情報発信も積極的に行なっています。

## 経歴

在籍期間 | 会社 | 職種 | 職位
--- | --- | --- | ---
2018-09 .. 現在 | [GMOペパボ株式会社](https://pepabo.com/) | Webアプリケーションエンジニア | メンバー<br/>エンジニアリングリード（2021-03 ..）
2020-02 .. 2021-06 | [株式会社キャスター](https://caster.co.jp/) | Webアプリケーションエンジニア | メンバー（業務委託）
2015-04 .. 2018-07 | [株式会社Donuts](https://www.donuts.ne.jp/) | Webアプリケーションエンジニア | メンバー<br/>開発チームリーダー（2015-10 ..）

## GMOペパボ株式会社: 2018-09-01 .. 現在

SUZURI事業部にて、10人ほどのエンジニアチームにおける「エンジニアリングリード」として、Webアプリケーション [SUZURI](https://suzuri.jp) の開発に携わりつつ、マネジメント業務の一部を担っています。
また、所属部署の業務だけではなくそのほかの業務も行なっています。

ここでは

- Webアプリケーション開発業務
- マネジメント業務
- そのほかの業務

について、それぞれ記載します。

### Webアプリケーション開発業務

開発を担当した業務をいくつかピックアップして記載します。

- 発注先工場の追加
- 決済手段の追加
- 法改正に伴う対応、および、会計処理

なお、技術スタックは次のとおりです:
- Ruby / Ruby on Rails
- JavaScript / CoffeeScript / Backbone.js / React / TypeScript
- RSpec / Jest
- PostgreSQL
- Redis / Sidekiq
- Elasticsearch
- Metabase / BigQuery / Looker Studio
- Datadog / Sentry
- Docker
- GitHub Actions
- Heroku Enterprise / AWS / GCP

#### 発注先工場の追加
SUZURIは、画像をアップロードするだけでオリジナルのグッズを販売できるプラットフォームです。
購入者からの注文情報に基づいて、提携先の工場に「どの画像でどのグッズを何個つくるか」と「どこのだれに配送するか」の情報を送る（発注する）ことで受注生産を実現しています。

私が入社した2018年9月時点では提携先の工場は一社のみであり、システムのデータ構造もそれを前提とした構造になっていました。
サービスの成長に伴い、提携先の工場を複数社に増やす必要が出てきたため、データ構造の見直しとビジネスロジック実装を行ないました。

具体的には、1対1で紐づいていた「注文情報」と「配送情報」の間に「発注情報」の概念を挟み、「注文情報」と「発注情報」を1対多の関係にし、「発注情報」と「配送情報」を1対1の関係で再定義しました。
これに伴うテーブル定義の変更やデータ移行、および、ビジネスロジックの修正・追加を行ないました。

#### 決済手段の追加
SUZURIはECプラットフォームであり、購入者の決済手段を（販売者ではなく）運営側で選択して提供しています。

既存の決済手段（コンビニ前払い決済、クレジットカード決済、後払い決済）に加えて、PayPay決済（2022年2月〜）とAmazon Pay決済（2023年2月〜）も使えるように実装しました。
いずれもWebブラウザから購入するケースでの実装はスムーズに完了しましたが、モバイルアプリからの購入するケースでの制御に注意が必要でした。

PayPay決済の場合はモバイルアプリからの購入フローでモバイル内のPayPayアプリを起動させる必要があり、かつ、社の契約の都合上PayPayとの間に別の決済代行会社のシステムが挟まっていて融通が利かない状況となっていました。
結論としてはモバイルアプリから外部ブラウザ（SafariやChrome）を起動して決済代行システムの特定のURLに遷移させることで、外部ブラウザからPayPayアプリを起動させる挙動を実現しました。

Amazon Pay決済の場合は、モバイルアプリの [WebViewでの決済がセキュリティ上の理由でサポート対象外](https://github.com/amazonpay-labs/amazonpay-sample-app-v2/blob/587fdc54b838ea5236a88dd3cc92503f94fb0870/README.md?plain=1#L24) となっています。
そのため、Amazonのドキュメントに従い "Secure WebView" を用いた実装が必要でした。
SUZURIのモバイルアプリではWebViewでログインセッションを管理していて決済もWebViewで行なっています。
そのため、Amazon Pay決済の過程でSecure Webviewを開いてもそこにはログインセッションがないので、それを前提として購入フローを安全に完結できるように実装する必要があります。
最終的には [こちらの記事](https://zenn.dev/tanaken0515/articles/a903d478bbadd3) にまとめたフローで実装しました。

#### 法改正に伴う対応、および、会計処理
総額表示義務やインボイス制度など、法改正に伴う既存機能の修正や新機能の開発を担当しました。
このような開発に際して「制度を理解し、既存コードを把握し、テストコードを書き、実装を修正・追加し、検証する」という一連の流れを丁寧に進めることができます。

また [企業会計基準第29号「収益認識に関する会計基準」](https://www.asb.or.jp/jp/wp-content/uploads/denshikirokuiten20220826_03.pdf) に従い、SUZURIの "履行義務" について法務部門を交えて再確認したうえで、売上報告の仕組みを再構築しました。
具体的には次の2点を行ないました。
- 購入者からの決済確定時点で売上計上していたが、商品の出荷時点で売上計上をするように変更した
- システムからデータをダウンロードして表計算ソフトで集計していたが、システムのロジックで自動集計して集計値およびそれを構成する明細データを記録するようにした

この対応により、企業会計基準に則った数値が出せるようになっただけでなく、毎月1営業日程度かかっていた売上報告の業務が15分程度で完了するようになりました。

これらのような慎重な対応が必要になる業務においては、漏れなく被りなく検討することが重要であると考えています。
検討する際は [なにかを漏れなく被りなく検討するときにやっていること \- tanaken’s blog](https://tanaken0515.hatenablog.com/entry/2023/06/30/215224) に記載した方法で網羅的な表をつくることで、セルフチェックをしやすくし、他者からのフィードバックも得やすくしています。

### マネジメント業務

GMOペパボ株式会社の「エンジニアリングリード」に求められるマネジメント要件を説明した上で、自身が実施しているマネジメント業務について記載します。

#### エンジニアリングリードに求められるマネジメント要件

まず、GMOペパボ株式会社のマネージャーに求められる要件は大きく4つです:
- ビジネスパフォーマンス（組織目標、予実管理など）
- リスクマネジメント（法的リスク、セキュリティリスクなど）
- ピープルマネジメント（労務管理、エンパワーメントなど）
- ペパボピープル（社内文化、社内ルールなど）

このうち、エンジニアリングリードに求められる要件は次のとおりです:
- ビジネスパフォーマンスの一部（組織目標）
- リスクマネジメントの一部（セキュリティリスク）
- ピープルマネジメントの一部（エンパワーメント）

すなわちエンジニアリングリードは、マネジメント要件における技術的な観点が不可欠な項目（プロダクト開発による組織目標の達成、継続的なメンテナンスによるセキュリティリスクの回避、技術的な助言を伴うエンパワーメント、など）について成果を出すことが求められます。

#### 組織目標の達成

組織目標を達成するために、自身が担当する開発業務を迅速に進めつつ、メンバーが担当する開発業務について要件定義・設計・実装の各段階においてレビューしてフィードバックを行なっています。

また、流通額等の数値をBIツール（Metabase）からチャットツール（Slack）に毎時通知することで、メンバーが組織目標の達成状況を常に把握できるようにしています。

#### セキュリティリスクの回避

脆弱性診断とその結果を受けての対応を行なっています。並行してランタイムや各種ライブラリのバージョンアップにも取り組んでいます。

また、経理部門の方と密にコミュニケーションを取りながら、残高計算や売上計算のシステム化、会計基準の変更などの対応をしました。
会計数値に異常があると会社としてリスクを抱えることになるので、リスクマネジメントの一環として取り組んでいました。

#### エンパワーメント

メンバーとの定期的な1on1、および、半年に一度の人事評価（技術面の評価）を行なっています。
メンバーとのコミュニケーションでは「得意なことをより拡張してもらうためには」「苦手なことを補うためには」という視点を持つよう心がけています。

また、メンバーの技術的な興味や困りごとを拾い上げる仕組みとして、3つの会を開催しています。
- Dailyでの任意参加の雑談会（内容をNotionのBoardに記録する）
- Weeklyでの定例会（雑談会の記録を全員で眺めて対話する）
- Fortnightlyでの報告会（各メンバーがやったことを報告し讃える）

これにより、メンバー間の相互理解を深め、互いにエンパワーメントする文化をつくっています。

### そのほかの業務
所属部署の業務だけではなく、部署をまたがった組織づくりや新卒社員向けの技術研修にも取り組んでいます。

- CRE(Customer Reliability Engineer)組織づくり
- 新卒技術研修2023

#### CRE組織づくり

さまざまなエンジニアとの対話のなかで、ユーザからの問い合わせへの対応やVOC(Voice of Customer)を活かした機能開発について、各部署で似たような課題を感じていることがわかりました。
2020年前後から各部署でCREチームを立ち上げる動きが出てきたため、そのタイミングで「部署をまたいでCREの課題やその解決策について共有する場」を設定しました。

これにより、共通の課題に対して解決策を共通化する、自部署では顕在化していない課題に他部署が向き合っていることを知って事前に備える、などの効用が得られました。
2020年10月に第1回を開催してから2023年11月現在に至るまで、3年以上毎月開催されており、部署を横断したCRE組織として機能しています。

また2021年11月には、各部署のCREおよびCustomer Supportのメンバーによるカンファレンス [ペパボのCRE＆CSが語る、ユーザーが安心して気持ちよく使えるサービスの裏側 \- connpass](https://pepabo.connpass.com/event/229248/) も主催し、自身も発表しました。

#### 新卒技術研修2023

新卒社員向けの技術研修の責任者を務めました。
社内外の講師による10以上の研修コンテンツを企画し、2ヶ月半の期間で幅広い技術（フロントエンド、バックエンド、インフラ、セキュリティ、データエンジニアリング）を取り扱いました。
詳しくは [ペパボ新卒エンジニア研修2023 \- Pepabo Tech Portal](https://tech.pepabo.com/2023/08/31/newbie-training-2023/) に記載のとおりです。

## 株式会社キャスター（旧 株式会社bosyu） 2020-02-01 .. 2021-06-30

本業（当時GMOペパボ所属）の傍ら、Webアプリケーションエンジニアとして [株式会社bosyu](https://caster.co.jp/1924/) から業務を受託し（業務委託契約を結び）、「bosyu」および「bosyuJobs」の開発に携わりました。

> [!NOTE]  
> 株式会社bosyuは [2020年8月に株式会社キャスターに事業を譲渡](https://caster.co.jp/3949/) したため、その後の契約先は株式会社キャスターとなりました。
> なお、[bosyu](https://caster.co.jp/4792/) および [bosyuJobs](https://caster.co.jp/5279/) はサービスの提供を終了しています。

週10~15時間の勤務を行ない、次のような業務に取り組みました:

- 社内向けの管理画面の実装
- 検索エンジン最適化のための機能の実装
- Amazon SESを利用したメール一斉配信機能の実装
- 顧客管理システム（Hubspot）とのデータ連携

「社内向けの管理画面の実装」は、カスタマーサポート担当者からヒアリングして要件を決めながら実装を進めました。
カスタマーサポート業務に必要な情報の大部分において閲覧できる画面がない状態でしたので、とにかく様々な情報を閲覧できるように実装を進めていきました。
フロントエンドは（ユーザ向けの機能でも使用していたため）Vue.jsを使用しました。

「検索エンジン最適化のための機能の実装」は、canonicalを設定すべき画面に設定する、ページングがある画面に `rel="prev"` `rel="next"` のlinkタグを追加する、サイトマップを作成する、といった細々とした対応や、各 "募集" 情報に紐づく "ハッシュタグ" についてハッシュタグの詳細ページを実装し、募集ページからリンクすることで検索エンジンにおける募集ページの評価の向上を狙う、といった施策に取り組みました。

「Amazon SESを利用したメール一斉配信機能の実装」は、管理画面からPOSTされたテキスト（メール本文）をつかってAPI経由でSESのメールテンプレートを作成し、そのテンプレートを用いて対象ユーザに一斉にメールを配信する、という機能を実装しました。

「顧客管理システム（Hubspot）とのデータ連携」は、HubspotのAPIを用いて営業リードの獲得時およびアカウントの登録・更新時にデータを連携する機能を実装しました。

### 技術スタック

- Ruby / Ruby on Rails
- JavaScript / Vue.js
- RSpec
- MySQL
- Docker
- AWS / GCP

## 株式会社Donuts: 2015-04-01 .. 2018-07-31

Webアプリケーションエンジニアとして新卒で入社し、自社サービスの開発に携わりました。経験したサービス（およびプロジェクト）は次のとおりです:
- クラウド勤怠管理システム: 2015-04 .. 2018-07（主業務）
- 社内向け人事評価システム: 2016-02 .. 2017-02（プロジェクト）
- クラウド採用管理システム: 2018-01 .. 2018-07（兼務）

### クラウド勤怠管理システム: 2015-04 .. 2018-07

#### 概要
クラウド勤怠管理システム [ジョブカン勤怠管理](https://jobcan.ne.jp/) の開発に携わりました。

機能要件の精査、設計、開発、テスト等の幅広い業務を行いました。
具体的には、自身の学生時代の研究内容を活用した [シフト自動作成機能](https://www.donuts.ne.jp/news/2016/0113-jobcan-update-shift/) や営業活動のフックとなるクーポン機能等を実装しました。
また、営業効率を上げるために顧客管理システム（Salesforce）とのデータ連携に関する実装も行ないました。
3年間で10倍のサービス成長に貢献しています（契約数 2,000社 -> 20,000社）。

入社半年後の2015年10月からはチームリーダーを任され、開発環境や運用ルールの整備、メンバーのマネジメント、大手クライアントとの要件交渉（営業同行）も行ないました。
特にチームの開発環境には課題が多く、チームメンバーと協力しながら次のような取り組みを実施しました。
- バージョン管理の移行（Subversion -> Git）
- GitHubのPullRequestベースの開発フローの導入
- サーバー移行（オンプレ -> AWS）
- Migrationツールの導入（phinx）
- 仮想開発環境の導入（Vagrant）
- テストツールの導入（PHPUnit）

#### 技術スタック

- PHP / Zend Framework
- JavaScript / jQuery
- PHPUnit
- CircleCI
- MySQL
- phinx
- Vagrant
- AWS

### 社内向け人事評価システム: 2016-02 .. 2017-02

#### 概要
社内向けの人事評価システムを単独で実装し、人事評価の管理工数を10分の1に削減しました。

当時の人事評価制度は、「最低3名以上の匿名の360度評価＋上長評価」で実施するルールになっていました。
この複雑な制度をExcelファイルで運用していたため、「膨大に作られるExcelファイル」「飛び交うファイル添付メール」「ファイル間の内容転記」など、非常に大きな管理コストが発生していました。
この非効率な状況を解決したいと考え、私と人事の計2名でシステム化のプロジェクトを立ち上げました。

利用技術については「一般スタッフ、評価者、運営事務局、というロールがある」「評価者が一般スタッフの閲覧スコープを設定できる」「最終的に一覧性のあるシートにしたい」といった要件を満たすことを前提に、実装工数を鑑みてGoogle Apps Script（GAS）を採用しました。
システムの利用権限をGSuite（現Google Workspace）の組織に制限することでログイン処理の実装が削減できること、DBは用意せずともスプレッドシートで代替できること、最終的にシートに出力したいこと、等の観点でGASが最適だと判断しました。
ビジネスロジックはGAS、フロントエンドはJavaScriptのDOM操作を駆使してSPAのような形で、およそ8~10人日で実装しました。

#### 技術スタック
- Google Apps Script
- JavaScript

### クラウド採用管理システム: 2018-01 .. 2018-07
#### 概要
クラウド採用管理システム [ジョブカン採用管理](https://ats.jobcan.ne.jp/) の開発に携わりました。

主業務（勤怠管理システム）でのリーダー経験を活かして、チーム運用のサポートを行ないました。
主業務と兼務しながらですのでそれほど大きな開発タスクには携わっていませんが、Railsアプリケーションの簡単な不具合修正等を実施しました。

#### 技術スタック
- Ruby / Ruby on Rails
- React
- MySQL
- AWS / GCP

## 情報発信

技術イベントでの発表、ブログの執筆、Podcast等、社内外への情報発信も積極的に行なっています。

### 口頭発表

比較的大きめなイベントでの発表をいくつかピックアップします。

- 2022-10: [Railsのコードを読むのは楽しいよ | `Kaigi on Rails _2022_ new` - Speaker Deck](https://speakerdeck.com/tanaken0515/lightning-talks-kaigi-on-rails-2022-new)
  - イベントURL: [`Kaigi on Rails _2022_ new` - Kaigi on Rails | Doorkeeper](https://kaigionrails.doorkeeper.jp/events/143639)
  - 参加登録者: 不明（YouTube Liveのアーカイブ動画の文字起こしによると80名以上）
  - 発表動画: https://www.youtube.com/live/JpjuMfOGI-4?si=FbeHFsRqbclIFODF
  - 発表を終えてのブログ: [Kaigi on Rails 2022 に参加しました - tanaken’s blog](https://tanaken0515.hatenablog.com/entry/2022/10/29/165630)
- 2021-11: [Proud of SUZURI CRE Team - Speaker Deck](https://speakerdeck.com/tanaken0515/proud-of-suzuri-cre-team)
  - イベントURL: [ペパボのCRE＆CSが語る、ユーザーが安心して気持ちよく使えるサービスの裏側 - connpass](https://pepabo.connpass.com/event/229248/)
  - 参加登録者: 142名
  - 発表を終えてのブログ: [ペパボのCREとCSのイベントを開催しました - tanaken’s blog](https://tanaken0515.hatenablog.com/entry/2021/11/27/171517)
- 2021-06: [Retrospective of SUZURI CRE 1st year - Speaker Deck](https://speakerdeck.com/tanaken0515/retrospective-of-suzuri-cre-1st-year)
  - イベントURL: [43万人超のクリエイターの表現活動を支える！ECプラットフォームSUZURIの開発の裏側 - connpass](https://pepabo.connpass.com/event/215058/)
  - 参加登録者: 180名
  - 発表を終えてのブログ: [SUZURI CRE 1年目のふりかえりとこれから - ペパボテックブログ](https://tech.pepabo.com/2021/06/29/suzuri-cre-1st-year/)
- 2021-02: [Creator Mind of SUZURI - Speaker Deck](https://speakerdeck.com/tanaken0515/creator-mind-of-suzuri)
  - イベントURL: [オープンセミナー2020@岡山](https://okayama.open-seminar.org/2020/) 
  - 参加登録者: 140名 
  - 発表動画: https://youtu.be/ztcVUhSh0As
  - 発表を終えてのブログ: [オープンセミナー岡山2020で発表しました - tanaken’s blog](https://tanaken0515.hatenablog.com/entry/2021/02/28/215011)
- 2019-11: [Introduction of Deep Learning for Rubyist - Speaker Deck](https://speakerdeck.com/tanaken0515/introduction-of-deep-learning-for-rubyist)
  - イベントURL: [鹿児島Ruby会議01](https://k-ruby.com/kagoshima-rubykaigi01/)
  - 参加登録者: 59名
  - 発表を終えてのブログ: [鹿児島Ruby会議01に参加しました - Pepabo Tech Portal](https://tech.pepabo.com/2019/12/13/kagoshima-rk01/)

### ブログ

[はてなブログ](https://tanaken0515.hatenablog.com/) に毎月1件程度のペースでブログを書いています。
技術的な内容のブログをいくつかピックアップします。

- 2023-03: [Rubyのsetterの返り値 (2)](https://tanaken0515.hatenablog.com/entry/2023/03/30/232454) 
- 2023-02: [Rubyのsetterの返り値](https://tanaken0515.hatenablog.com/entry/2023/02/28/233219) 
- 2022-04: [Railsアプリケーションで遅い画面を産まないためにチェックすること](https://tanaken0515.hatenablog.com/entry/2022/04/30/212321)
- 2021-09: [Enumerable#all? と Enumerable#any? の実装を読んだ](https://tanaken0515.hatenablog.com/entry/2021/09/26/191323)
- 2021-01: [Date.today > Date.yesterday は必ずしも真ではなかった](https://tanaken0515.hatenablog.com/entry/2021/01/30/185516)
- 2020-02: [API Client の rubygem を作ってみた](https://tanaken0515.hatenablog.com/entry/2020/02/28/101019)
- 2020-01: [ruby-jp slack で ActionText の質問に答えた](https://tanaken0515.hatenablog.com/entry/2020/01/26/102533)

また [Scrapbox](https://scrapbox.io/tanaken0515) にも技術的なメモを一部記録しています。

- [PostgreSQLの便利な何か](https://scrapbox.io/tanaken0515/PostgreSQL%E3%81%AE%E4%BE%BF%E5%88%A9%E3%81%AA%E4%BD%95%E3%81%8B): PostgreSQLの関数や仕様についての知見を書き留めたもの
- [Herokuの便利な何か](https://scrapbox.io/tanaken0515/Heroku%E3%81%AE%E4%BE%BF%E5%88%A9%E3%81%AA%E4%BD%95%E3%81%8B): Herokuのコマンドや仕様についての知見を書き留めたもの
- [Ruby 日記](https://scrapbox.io/tanaken0515/Ruby_%E6%97%A5%E8%A8%98): 50日分のRuby学習記録

### そのほか

技術的な内容に限らず、コミュニティへの貢献や自身の情報発信に関する取り組みをしています。

#### 技術コミュニティへの貢献

技術コミュニティに積極的に参加しています。

- [RubyKaigi](https://rubykaigi.org) 
  - 2019年以降毎回参加しています
  - [2022年](https://rubykaigi.org/2022/about/) と [2023年](https://rubykaigi.org/2023/about/) は当日ヘルパーとして運営にも携わりました
- [Rails Girls](https://railsgirls.jp/)
  - 次のワークショップにおいてコーチを務めました
    - [Fukuoka 2nd](https://railsgirls.com/fukuoka-2019.html)
    - [Tokyo 13th](https://railsgirls.com/tokyo-2020-02-15.html)
    - [Kagoshima 1st](https://railsgirls.com/kagoshima-2022.html)
- 地域Ruby会議
  - 鹿児島県での初開催となる [鹿児島Ruby会議01](https://k-ruby.com/kagoshima-rubykaigi01/) を主催し、運営しました

#### 日記

[Scrapbox](https://scrapbox.io/tanaken0515)  には日常のできごとを素朴に書いています。

- https://scrapbox.io/tanaken0515/search/page?q=2023
- https://scrapbox.io/tanaken0515/search/page?q=2022
- https://scrapbox.io/tanaken0515/search/page?q=2021

#### Podcast

[てくてくラジオ](https://podcasters.spotify.com/pod/show/tektek-radio) というPodcast番組を2021年10月から運営しています。
